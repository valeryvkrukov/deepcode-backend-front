<app-navbar></app-navbar>
<div class="container-fluid mr-3">
	<div class="row justify-content-center">
		<div class="col-6">
			<h2 class="mt-3 mb-4">Create New Customer</h2>
			<form #accountForm="ngForm" (ngSubmit)="save(accountForm.value, accountForm.valid)" novalidate>
				<div class="form-row mb-3">
					<div class="col">
						<label class="form-control-label" for="firstName">Firstname<span class="text-danger">*</span></label>
						<input type="text" class="form-control" [class.is-invalid]="!firstName.valid && firstName.dirty" name="firstName" [ngModel]="account.firstName" required minlength="2" #firstName="ngModel">
						<small [hidden]="firstName.valid || (firstName.pristine && !accountForm.submitted)" class="form-text text-danger">
							Firstname is required (minimum 2 characters)
						</small>
					</div>
					<div class="col">
						<label class="form-control-label" for="lastName">Lastname<span class="text-danger">*</span></label>
						<input type="text" class="form-control" [class.is-invalid]="!lastName.valid && lastName.dirty" name="lastName" [ngModel]="account.lastName" required minlength="3" #lastName="ngModel">
						<small [hidden]="lastName.valid || (lastName.pristine && !accountForm.submitted)" class="form-text text-danger">
							Lastname is required (minimum 2 characters)
						</small>
					</div>
				</div>
				<div class="form-row mb-3">
					<div class="col">
						<label class="form-control-label" for="username">Username<span class="text-danger">*</span></label>
						<input type="text" class="form-control" [class.is-invalid]="!username.valid && username.dirty" name="username" [ngModel]="account.username" required minlength="3" #username="ngModel">
						<small [hidden]="username.valid || (username.pristine && !accountForm.submitted)" class="form-text text-danger">
							Username is required (minimum 3 characters)
						</small>
					</div>
				</div>
				<div class="form-row mb-3">
					<div class="col">
						<label class="form-control-label" for="email">Email<span class="text-danger">*</span></label>
						<input type="email" class="form-control" [class.is-invalid]="!email.valid && email.dirty" name="email" [ngModel]="account.email" required email #email="ngModel">
						<small [hidden]="email.valid || (email.pristine && !accountForm.submitted)" class="form-text text-danger">
							Invalid email
						</small>
					</div>
				</div>
				<div class="form-row mb-3">
					<div class="col">
						<label class="form-control-label" for="password">Password<span class="text-danger">*</span></label>
						<input type="password" class="form-control" [class.is-invalid]="(!password.valid && password.dirty) || (!passwordConfirm.valid && passwordConfirm.dirty)" name="password" [ngModel]="account.password" required #password="ngModel" minlength="5">
						<small [hidden]="password.valid || (password.pristine && !accountForm.submitted)" class="form-text text-danger">
							Password is required (minimum 5 characters)
						</small>
					</div>
				</div>
				<div class="form-row mb-3">
					<div class="col">
						<label class="form-control-label" for="password">Password confirmation<span class="text-danger">*</span></label>
						<input type="password" class="form-control" [class.is-invalid]="!passwordConfirm.valid && passwordConfirm.dirty" name="passwordConfirm" [ngModel]="account.passwordConfirm" required validateEqual="password" #passwordConfirm="ngModel">
						<small [hidden]="passwordConfirm.valid || (passwordConfirm.pristine && !accountForm.submitted)" class="form-text text-danger">
							Password mismatch
						</small>
					</div>
				</div>
				<button type="submit" class="btn btn-primary" [disabled]="!accountForm.valid">Create</button>
			</form>
		</div>
	</div>
</div>